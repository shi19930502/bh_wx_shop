{"version":3,"sources":["webpack:///static/js/34.ab559bdf7b69e0cc70cd.js","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./src/utils/mixin_category.js","webpack:///./src/views/user/UserNewAddress.vue?de3e","webpack:///./src/views/user/UserNewAddress.vue","webpack:///./src/views/user/UserNewAddress.vue?21fc","webpack:///src/views/user/UserNewAddress.vue","webpack:///./src/utils/mixin_shop.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///./src/views/user/UserNewAddress.vue?74e5","webpack:///./src/utils/mixin.js"],"names":["webpackJsonp","BO1k","module","exports","__webpack_require__","default","__esModule","H+kO","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","n","data","categoryList","gbgoodsId","secondCategoryList","isUserEnter","isOftenBuy","methods","addActiveStatus","arr","activeCount","this","i","isActive","menuClick","d","pageNum","productList","$refs","$emit","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","item","value","id","err","return","getProductList","childList","getCategoryList","getCategoryListSaveLocal","_this","postRequest","parentCategoryId","filteEnabled","filteDeleted","orderField","supplierId","sellerId","then","resp","state","aaData","unshift","name","getSonCategoryList","j","length","Lp7M","render","staticRenderFns","_vm","_h","$createElement","_c","_self","attrs","arrow","slot","staticClass","_v","form","provinceName","cityName","districName","on","click","$event","selectAddr","_s","max","placeholder","show-success-icon","model","callback","$$v","$set","expression","_e","type","regex","_n","readonly","maxlength","staticStyle","padding","position","bottom","width","size","bgcolor","color","nativeOn","save","REvB","injectStyle","context","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_UserNewAddress_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_02c18ed0_hasScoped_false_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_UserNewAddress_vue__","__WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_runtime_component_normalizer__","__vue_styles__","Component","Vxc4","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","Witg","__WEBPACK_IMPORTED_MODULE_0__utils_mixin_js__","mixins","detailedAddress","completeAddress","contacts","phoneNumber","customerId","longitude","latitude","provinceCode","cityCode","districCode","comment","getAddr","ProvinceList","CityList","DistricList","routerHistoryNum","watch","form.detailedAddress","val","oldVal","created","$route","query","$store","dispatch","sessionStorage","getItem","JSON","parse","setItem","init","userInfo","typeCode","res","getCityList","getDistricList","location","lng","lat","pname","pcode","cityname","adname","adcode","address","mounted","_this2","$dialog","confirm","title","mes","opts","$router","getProvinceList","_this3","level","changeProvinceList","_this4","parentAreaCode","changeCityList","_this5","_this6","url","telReg","param","alert","test","a","areaName","areaCode","toast","timeout","icon","replace","bind","fYxN","carIds","ShippingcarList","alreadyChosenGoods","orderTotal","shopCar","shopNum","commodityNum","shopAllMoney","queryGrouplist","createShippingcar","sku","saveUrl","params","buyerId","productId","productName","skuId","skuName","quantity","remark","skuIdsArr","isInArray","carId","getShippingcarList","o","showjianBtn","msg","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","selectGoodsArr","b","carSettlementGoods","showShopCar","isCheckAll","checklistDemo","getOrderTotal","priceTotal","getSearchProCar","shopMoney","key","concat","money","parseFloat","promotionPrice","toFixed","shopCarshopMoney","innerHTML","quantityTotal","promotionBasePrice","mul","price","element","countVisits","fxRn","g8Ux","anObject","get","getIterator","it","iterFn","TypeError","call","s7OO","content","locals","add","vsZy","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_2__configs__","uploadURL","imgURL","localStorage","logisticsType","selected","payType","distributionType","getServerTime","resolve","reject","priceFormat","div","blurAdjust","e","setTimeout","document","activeElement","tagName","navigator","userAgent","scrollIntoViewIfNeeded","uniqueArr","obj","v","GetDateStr","AddDayCount","server_date","dd","Date","setDate","getDate","y","getFullYear","m","getMonth","w","getDay","date","week","charAt"],"mappings":"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","file":"static/js/34.ab559bdf7b69e0cc70cd.js","sourcesContent":["webpackJsonp([34],{\n\n/***/ \"BO1k\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"fxRn\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"H+kO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(\"BO1k\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      // 一级商品分类列表\n      categoryList: [],\n      // 获取商品参数\n      gbgoodsId: '',\n      // 二级分类列表\n      secondCategoryList: [],\n      // 判断是否为个人中心进入\n      isUserEnter: false,\n      // 是否常买菜单被点击\n      isOftenBuy: false\n    };\n  },\n\n  methods: {\n    /**\r\n     * 处理是否选择数据\r\n     */\n    addActiveStatus: function addActiveStatus(arr) {\n      var activeCount = 1;\n      this.isUserEnter ? activeCount = 0 : activeCount = 1;\n      for (var i in arr) {\n        if (i == activeCount) {\n          arr[i].isActive = true;\n        } else {\n          arr[i].isActive = false;\n        }\n      }\n      return arr;\n    },\n\n    /**\r\n     * 点击商品分类\r\n     */\n    menuClick: function menuClick(d) {\n      this.pageNum = 1;\n      this.productList = [];\n      if (this.$refs.productList) {\n        this.$refs.productList.$emit('ydui.infinitescroll.reInit');\n      }\n      if (!d.isActive) {\n        d.isActive = true;\n      }\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.categoryList), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n\n          // 是否选择处理\n          if (d.id != item.id) {\n            item.isActive = false;\n          }\n        }\n        // 获取二级分类\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (d.id == 'oftenbuy') {\n        // 获取常买商品\n        this.secondCategoryList = [];\n        this.isOftenBuy = true;\n        this.gbgoodsId = '';\n        this.getProductList();\n      } else {\n        this.isOftenBuy = false;\n        if (d.childList) {\n          this.secondCategoryList = d.childList;\n          // 子分类第一条数据添加选中状态\n          // 如果有一天需要默认选择第一个二级分类就放开这个注释\n          //\t\t\t\t\tthis.secondCategoryList[0].isActive = true\n          for (var i in this.secondCategoryList) {\n            if (i != 0 && this.secondCategoryList[i].isActive) {\n              this.secondCategoryList[i].isActive = false;\n            }\n          }\n          // 查找商品\n          // 如果有一天需要默认选择第一个二级分类就放开这个注释\n          //\t\t\t\t\tthis.gbgoodsId = this.secondCategoryList[0].gbgoodsId\n          this.gbgoodsId = d.gbgoodsId;\n          this.getProductList();\n        } else {\n          this.secondCategoryList = [];\n          this.gbgoodsId = d.gbgoodsId;\n          this.getProductList();\n        }\n      }\n    },\n\n    /**\r\n     * 获取商品分类\r\n     */\n    getCategoryList: function getCategoryList() {\n      // \t\t\tif(localStorage.getItem('categoryList')) {\n      // \t\t\t\tthis.categoryList = this.addActiveStatus(JSON.parse(localStorage.getItem('categoryList')))\n      // \t\t\t\tthis.getSonCategoryList(this.categoryList)\n      // \t\t\t} else {\n      this.getCategoryListSaveLocal();\n      // }\n    },\n\n    /**\r\n     * 获取分类列表缓存本地\r\n     */\n    getCategoryListSaveLocal: function getCategoryListSaveLocal() {\n      var _this = this;\n\n      this.postRequest('category/childList', {\n        parentCategoryId: 'top',\n        filteEnabled: 1,\n        filteDeleted: 0,\n        orderField: 't.f_id',\n        supplierId: this.sellerId\n      }).then(function (resp) {\n        if (resp && resp.data && resp.data.state == 0) {\n          // 添加常买选项\n          resp.data.aaData.unshift({\n            name: '常买',\n            id: 'oftenbuy'\n          });\n          // 商品分类数据\n          _this.categoryList = _this.addActiveStatus(resp.data.aaData);\n          _this.getSonCategoryList(_this.categoryList);\n          // 缓存分类列表\n          // localStorage.setItem('categoryList', JSON.stringify(this.categoryList))\n        }\n      });\n    },\n\n    /**\r\n     * 获取二级分类\r\n     */\n    getSonCategoryList: function getSonCategoryList(categoryList) {\n      // 添加二级分类isActive\n      for (var i in categoryList) {\n        if (categoryList[i].childList) {\n          // 如果存在二级分类\n          for (var j in categoryList[i].childList) {\n            // 如果有一天需要默认选择第一个二级分类就放开这个注释\n            //\t\t\t\t\t\tif(j == 0) {\n            //\t\t\t\t\t\t\tcategoryList[i].childList[j].isActive = true\n            //\t\t\t\t\t\t} else {\n            categoryList[i].childList[j].isActive = false;\n            //\t\t\t\t\t\t}\n          }\n        }\n      }\n\n      // 默认选择第一个分类\n      if (this.isOftenBuy) {\n        this.getProductList();\n      } else {\n        if (categoryList.length > 1 && categoryList[1].childList) {\n          this.secondCategoryList = categoryList[1].childList;\n          // 如果有一天需要默认选择第一个二级分类就放开这个注释\n          // this.gbgoodsId = this.secondCategoryList[0].gbgoodsId\n          this.gbgoodsId = categoryList[1].gbgoodsId;\n          this.getProductList();\n        } else {\n          this.secondCategoryList = [];\n          if (categoryList.length > 1) {\n            this.gbgoodsId = categoryList[1].gbgoodsId;\n            this.getProductList();\n          }\n        }\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"Lp7M\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return staticRenderFns; });\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('yd-layout',[_c('yd-scrolltab',[_c('div',{attrs:{\"id\":\"UserNewAddress\"}},[_c('yd-cell-group',[_c('yd-cell-item',{attrs:{\"arrow\":\"\"}},[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('div',{staticClass:\"lable\"},[_c('strong',[_vm._v(\"行政区\")])])]),_vm._v(\" \"),(_vm.form.provinceName||_vm.form.cityName||_vm.form.districName)?_c('div',{staticClass:\"select_addr\",attrs:{\"slot\":\"right\"},on:{\"click\":function($event){_vm.selectAddr(_vm.form)}},slot:\"right\"},[_vm._v(_vm._s(_vm.form.provinceName+'/'+_vm.form.cityName+'/'+_vm.form.districName))]):_c('div',{staticClass:\"select_addr\",attrs:{\"slot\":\"right\"},on:{\"click\":function($event){_vm.selectAddr(_vm.form)}},slot:\"right\"},[_vm._v(\"请优先选择您的区域地址\")])]),_vm._v(\" \"),(_vm.form.provinceName||_vm.form.cityName||_vm.form.districName)?_c('yd-cell-item',[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('div',{staticClass:\"lable\"},[_c('strong',[_vm._v(\"联系人\")])])]),_vm._v(\" \"),_c('yd-input',{attrs:{\"slot\":\"right\",\"max\":\"20\",\"placeholder\":\"请输入联系人\",\"show-success-icon\":false},slot:\"right\",model:{value:(_vm.form.contacts),callback:function ($$v) {_vm.$set(_vm.form, \"contacts\", $$v)},expression:\"form.contacts\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.form.provinceName||_vm.form.cityName||_vm.form.districName)?_c('yd-cell-item',[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('div',{staticClass:\"lable\"},[_c('strong',[_vm._v(\"电话\")])])]),_vm._v(\" \"),_c('yd-input',{attrs:{\"slot\":\"right\",\"type\":\"number\",\"regex\":\"mobile\",\"max\":\"20\",\"placeholder\":\"请输入手机号码\",\"show-success-icon\":false},slot:\"right\",model:{value:(_vm.form.phoneNumber),callback:function ($$v) {_vm.$set(_vm.form, \"phoneNumber\", _vm._n($$v))},expression:\"form.phoneNumber\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.form.provinceName||_vm.form.cityName||_vm.form.districName)?_c('yd-cell-item',[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('div',{staticClass:\"lable\"},[_c('strong',[_vm._v(\"详细地址\")])])]),_vm._v(\" \"),_c('yd-input',{attrs:{\"slot\":\"right\",\"max\":\"20\",\"placeholder\":\"例：XX街道XX号\",\"show-success-icon\":false},slot:\"right\",model:{value:(_vm.form.detailedAddress),callback:function ($$v) {_vm.$set(_vm.form, \"detailedAddress\", $$v)},expression:\"form.detailedAddress\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.form.provinceName||_vm.form.cityName||_vm.form.districName)?_c('yd-cell-item',{staticClass:\"textarea\"},[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('div',{staticClass:\"lable\"},[_c('strong',[_vm._v(\"完整信息\")])])]),_vm._v(\" \"),_c('yd-textarea',{attrs:{\"slot\":\"right\",\"readonly\":\"\",\"placeholder\":\"完整信息\",\"maxlength\":\"100\"},slot:\"right\",model:{value:(_vm.form.completeAddress),callback:function ($$v) {_vm.$set(_vm.form, \"completeAddress\", $$v)},expression:\"form.completeAddress\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.form.provinceName||_vm.form.cityName||_vm.form.districName)?_c('yd-cell-item',{staticClass:\"textarea\"},[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('div',{staticClass:\"lable\"},[_c('strong',[_vm._v(\"备注\")])])]),_vm._v(\" \"),_c('yd-textarea',{attrs:{\"slot\":\"right\",\"placeholder\":\"请输入备注信息\",\"maxlength\":\"100\",\"show-success-icon\":false},slot:\"right\",model:{value:(_vm.form.comment),callback:function ($$v) {_vm.$set(_vm.form, \"comment\", $$v)},expression:\"form.comment\"}})],1):_vm._e()],1)],1)]),_vm._v(\" \"),_c('yd-button',{staticStyle:{\"padding\":\"0 0.24rem\",\"position\":\"absolute\",\"bottom\":\"0\",\"width\":\"100%\"},attrs:{\"size\":\"large\",\"bgcolor\":\"#6FB138\",\"color\":\"#fff\"},nativeOn:{\"click\":function($event){return _vm.save($event)}}},[_vm._v(\"保存\")])],1)}\nvar staticRenderFns = []\n\n\n/***/ }),\n\n/***/ \"REvB\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_UserNewAddress_vue__ = __webpack_require__(\"Witg\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_02c18ed0_hasScoped_false_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_UserNewAddress_vue__ = __webpack_require__(\"Lp7M\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_runtime_component_normalizer__ = __webpack_require__(\"XyMi\");\nfunction injectStyle (context) {\n  __webpack_require__(\"s7OO\")\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(__WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_runtime_component_normalizer__[\"a\" /* default */])(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_UserNewAddress_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_02c18ed0_hasScoped_false_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_UserNewAddress_vue__[\"a\" /* render */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_02c18ed0_hasScoped_false_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_UserNewAddress_vue__[\"b\" /* staticRenderFns */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"Vxc4\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"#UserNewAddress{height:100%;overflow:auto}#UserNewAddress .yd-scrolltab-content{padding:0}#UserNewAddress .yd-scrolltab{top:0;bottom:1rem}#UserNewAddress textarea{font-family:PingFang-SC-Medium}#UserNewAddress .textarea .yd-cell-left{-webkit-box-align:start;-moz-align-items:start;-webkit-align-items:start;align-items:start;padding:.2rem 0}#UserNewAddress select{color:#333;padding-left:5px;font-family:PingFang-SC-Medium}#UserNewAddress .lable{width:1.8rem;font-size:.3rem}#UserNewAddress .yd-cell-right.yd-cell-arrow{-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}#UserNewAddress .yd-cell-right.yd-cell-arrow:after{position:absolute;right:.3rem}#UserNewAddress .select_addr{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}#UserNewAddress::-webkit-scrollbar{display:none}\", \"\", {\"version\":3,\"sources\":[\"D:/Web/银川电子结算new/北环/前端/微信商城/src/views/user/UserNewAddress.vue\"],\"names\":[],\"mappings\":\"AACA,gBACE,YAAa,AACb,aAAe,CAChB,AACD,sCACI,SAAiB,CACpB,AACD,8BACI,MAAU,AACV,WAAa,CAChB,AACD,yBACI,8BAAkC,CACrC,AACD,wCACI,wBAAyB,AACzB,uBAAwB,AACxB,0BAA2B,AAC3B,kBAAmB,AACnB,eAAiB,CACpB,AACD,uBACI,WAAY,AACZ,iBAAkB,AAClB,8BAAkC,CACrC,AACD,uBACI,aAAc,AACd,eAAkB,CACrB,AACD,6CACI,uBAAwB,AACxB,mCAAoC,AAC5B,0BAA4B,CACvC,AACD,mDACM,kBAAmB,AACnB,WAAa,CAClB,AACD,6BACI,WAAY,AACZ,YAAa,AACb,oBAAqB,AACrB,qBAAsB,AACtB,aAAc,AACd,yBAA0B,AAC1B,2BAA4B,AACpB,kBAAoB,CAC/B,AACD,mCACE,YAAc,CACf\",\"file\":\"UserNewAddress.vue\",\"sourcesContent\":[\"\\n#UserNewAddress {\\n  height: 100%;\\n  overflow: auto;\\n}\\n#UserNewAddress .yd-scrolltab-content {\\n    padding: 0 0 0 0;\\n}\\n#UserNewAddress .yd-scrolltab {\\n    top: 0rem;\\n    bottom: 1rem;\\n}\\n#UserNewAddress textarea {\\n    font-family: 'PingFang-SC-Medium';\\n}\\n#UserNewAddress .textarea .yd-cell-left {\\n    -webkit-box-align: start;\\n    -moz-align-items: start;\\n    -webkit-align-items: start;\\n    align-items: start;\\n    padding: .2rem 0;\\n}\\n#UserNewAddress select {\\n    color: #333;\\n    padding-left: 5px;\\n    font-family: 'PingFang-SC-Medium';\\n}\\n#UserNewAddress .lable {\\n    width: 1.8rem;\\n    font-size: 0.3rem;\\n}\\n#UserNewAddress .yd-cell-right.yd-cell-arrow {\\n    -webkit-box-pack: start;\\n    -webkit-justify-content: flex-start;\\n            justify-content: flex-start;\\n}\\n#UserNewAddress .yd-cell-right.yd-cell-arrow:after {\\n      position: absolute;\\n      right: .3rem;\\n}\\n#UserNewAddress .select_addr {\\n    width: 100%;\\n    height: 100%;\\n    display: -webkit-box;\\n    display: -webkit-flex;\\n    display: flex;\\n    -webkit-box-align: center;\\n    -webkit-align-items: center;\\n            align-items: center;\\n}\\n#UserNewAddress::-webkit-scrollbar {\\n  display: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"Witg\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_mixin_js__ = __webpack_require__(\"vsZy\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  mixins: [__WEBPACK_IMPORTED_MODULE_0__utils_mixin_js__[\"a\" /* default */]],\n  data: function data() {\n    return {\n      type: 'add',\n      form: {\n        id: '',\n        districName: '',\n        detailedAddress: '',\n        completeAddress: '',\n        contacts: '',\n        phoneNumber: '',\n        customerId: '',\n        longitude: '',\n        latitude: '',\n        provinceCode: '',\n        cityCode: '',\n        districCode: '',\n        comment: '',\n        getAddr: {}\n      },\n      ProvinceList: [],\n      CityList: [],\n      DistricList: [],\n      routerHistoryNum: -2\n    };\n  },\n\n  watch: {\n    \"form.detailedAddress\": function formDetailedAddress(val, oldVal) {\n      this.form.completeAddress = this.form.provinceName + this.form.cityName + this.form.districName + val;\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    if (this.$route.query.routerHistoryNum) {\n      this.routerHistoryNum = this.$route.query.routerHistoryNum;\n    }\n    //\t\t\tv-if='form.provinceName||form.cityName||form.districName'\n    this.$store.dispatch('changeNavBarTitle', '');\n    if (sessionStorage.getItem('getAddr')) {\n      this.getAddr = JSON.parse(sessionStorage.getItem('getAddr'));\n      sessionStorage.setItem('getAddr', '');\n    }\n\n    this.init();\n\n    this.postRequest('address/queryByCustomerId', {\n      customerId: this.userInfo.typeCode\n    }).then(function (res) {\n      if (res.data.aaData) {\n        _this.type = 'edit';\n      }\n      if (_this.type == 'add') {\n        _this.$store.dispatch('changeNavBarTitle', '新增地址');\n      } else {\n        _this.$store.dispatch('changeNavBarTitle', '编辑地址');\n        _this.form = res.data.aaData;\n\n        _this.getCityList();\n        _this.getDistricList();\n      }\n      if (_this.getAddr) {\n        _this.form.longitude = _this.getAddr.location.lng;\n        _this.form.latitude = _this.getAddr.location.lat;\n        _this.form.provinceName = _this.getAddr.pname;\n        _this.form.provinceCode = _this.getAddr.pcode;\n        _this.form.cityName = _this.getAddr.cityname;\n        _this.form.cityCode = _this.getAddr.pcode;\n        _this.form.districName = _this.getAddr.adname;\n        _this.form.districCode = _this.getAddr.adcode; //zhanhuan\n        _this.form.detailedAddress = _this.getAddr.address + _this.getAddr.name;\n        _this.form.completeAddress = _this.getAddr.pname + '/' + _this.getAddr.cityname + '/' + _this.getAddr.adname + '，';\n        _this.getAddr.name + '，' + _this.getAddr.address;\n      }\n    });\n  },\n  mounted: function mounted() {},\n\n  methods: {\n    selectAddr: function selectAddr(form) {\n      var _this2 = this;\n\n      if (form.provinceName || form.cityName || form.districName) {\n        this.$dialog.confirm({\n          title: '提示：',\n          mes: '离开此页面，系统可能不会保存你做的修改。',\n          opts: function opts() {\n            _this2.$router.push({\n              name: 'selectAddr'\n            });\n          }\n        });\n      } else {\n        this.$router.push({\n          name: 'selectAddr'\n        });\n      }\n    },\n\n    /**\n     * 初始化\n     */\n    init: function init() {\n      this.getProvinceList();\n    },\n\n    /**\n     * 获取省列表\n     */\n    getProvinceList: function getProvinceList() {\n      var _this3 = this;\n\n      this.postRequest('comArea/list', {\n        level: 1\n      }).then(function (d) {\n        if (d.data && d.data.state == 0) {\n          _this3.ProvinceList = d.data.aaData;\n        }\n      });\n    },\n    changeProvinceList: function changeProvinceList() {\n      this.form.cityCode = '';\n      this.form.districCode = '';\n      this.getCityList();\n    },\n\n    /**\n     * 获取市列表\n     */\n    getCityList: function getCityList() {\n      var _this4 = this;\n\n      this.postRequest('comArea/list', {\n        parentAreaCode: this.form.provinceCode,\n        level: 2\n      }).then(function (d) {\n        if (d.data && d.data.state == 0) {\n          _this4.CityList = d.data.aaData;\n        }\n      });\n    },\n    changeCityList: function changeCityList() {\n      this.form.districCode = '';\n      this.getDistricList();\n    },\n\n    /**\n     * 获取县区列表\n     */\n    getDistricList: function getDistricList() {\n      var _this5 = this;\n\n      this.postRequest('comArea/list', {\n        parentAreaCode: this.form.cityCode,\n        level: 3\n      }).then(function (d) {\n        if (d.data && d.data.state == 0) {\n          _this5.DistricList = d.data.aaData;\n        }\n      });\n    },\n\n    /**\n     * 保存\n     */\n    save: function save() {\n      var _this6 = this;\n\n      var url = 'address/create';\n      var telReg = /^[1][3,4,5,7,8,9][0-9]{9}$/;\n      var param = {\n        id: this.form.id,\n        provinceCode: this.form.provinceCode,\n        cityCode: this.form.cityCode,\n        districCode: this.form.districCode,\n        detailedAddress: this.form.detailedAddress,\n        contacts: this.form.contacts,\n        phoneNumber: this.form.phoneNumber,\n        customerId: this.form.customerId,\n        comment: this.form.comment,\n        latitude: this.form.latitude,\n        longitude: this.form.longitude\n      };\n      if (param.provinceCode == '') {\n        this.$dialog.alert({\n          mes: '请选择行政区'\n        });\n        return;\n      }\n      if (param.cityCode == '') {\n        this.$dialog.alert({\n          mes: '请选择行政区'\n        });\n        return;\n      }\n      if (param.districCode == '') {\n        this.$dialog.alert({\n          mes: '请选择行政区'\n        });\n        return;\n      }\n      if (param.contacts == '') {\n        this.$dialog.alert({\n          mes: '请填写联系人'\n        });\n        return;\n      }\n      if (param.phoneNumber == '') {\n        this.$dialog.alert({\n          mes: '请填写手机号码'\n        });\n        return;\n      } else {\n        if (!telReg.test(param.phoneNumber)) {\n          this.$dialog.alert({\n            mes: '请输入正确的手机号码！'\n          });\n          return;\n        }\n      }\n      if (param.detailedAddress == '') {\n        this.$dialog.alert({\n          mes: '请填写详细地址'\n        });\n        return;\n      }\n\n      if (this.type == 'edit') {\n        url = 'address/update';\n      } else {\n        param.customerId = this.userInfo.typeCode;\n      }\n\n      this.postRequest('comArea/list', {\n        parentAreaCode: param.provinceCode,\n        level: 2\n      }).then(function (d) {\n        if (d.data && d.data.state == 0) {\n          for (var a = 0; a < d.data.aaData.length; a++) {\n            if (d.data.aaData[a].areaName == _this6.form.cityName) {\n              param.cityCode = d.data.aaData[a].areaCode;\n              break;\n            }\n          }\n          _this6.postRequest(url, param).then(function (d) {\n            if (d.data && d.data.state == 0) {\n              _this6.$dialog.toast({\n                mes: '保存成功',\n                timeout: 1200,\n                icon: 'success',\n                callback: function () {\n                  this.$router.replace({\n                    name: 'UserAddress',\n                    query: {\n                      routerHistoryNum: this.routerHistoryNum\n                    }\n                  });\n                }.bind(_this6)\n              });\n            }\n          });\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"fYxN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(\"BO1k\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      carIds: [], // 创建购物车返回的id\n      ShippingcarList: [], // 购物车数据\n      alreadyChosenGoods: [], // 购物车当前供应商已经选择的商品\n      orderTotal: 0, // 当前店铺选择商品总价\n      shopCar: {\n        shopNum: 0,\n        commodityNum: 0,\n        shopAllMoney: \"0.00\"\n      },\n      queryGrouplist: []\n    };\n  },\n\n  methods: {\n    /**\r\n     * 创建购物车\r\n     */\n    createShippingcar: function createShippingcar(sku) {\n      var _this = this;\n\n      var saveUrl;\n      var params = {\n        buyerId: this.userInfo.typeCode,\n        productId: sku.productId,\n        productName: sku.productName,\n        skuId: sku.id,\n        skuName: sku.name,\n        quantity: sku.quantity,\n        comment: sku.remark || '',\n        sellerId: this.sellerId || this.$route.query.sellerId || sku.sellerId\n      };\n\n      if (sku.supplierId) {\n        // 如果搜索的是全不供应商的商品加入购物车\n        params.sellerId = sku.supplierId;\n      }\n\n      if (sku.skuId) {\n        params.skuId = sku.skuId;\n      }\n      if (sku.skuName) {\n        params.skuName = sku.skuName;\n      }\n\n      // 判断是否新增是否更新\n      var skuIdsArr = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.carIds), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n\n          skuIdsArr.push(item.skuId);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (!this.isInArray(skuIdsArr, params.skuId)) {\n        saveUrl = 'shippingcar/create';\n        this.postRequest(saveUrl, params).then(function (d) {\n          if (d.data && d.data.state == 0) {\n            var o = {\n              skuId: sku.id || sku.skuId,\n              carId: d.data.aaData.id\n            };\n            _this.carIds.push(o);\n            _this.getShippingcarList();\n          } else {\n            sku.showjianBtn = false;\n            sku.quantity = 0;\n            _this.$dialog.alert({\n              mes: d.data.msg\n            });\n          }\n        });\n      } else {\n        if (sku.quantity == 0) {\n          saveUrl = 'shippingcar/delete';\n        } else {\n          saveUrl = 'shippingcar/update';\n        }\n        for (var i in this.carIds) {\n          if (this.carIds[i].skuId == sku.id || this.carIds[i].skuId == sku.skuId) {\n            params.id = this.carIds[i].carId;\n          }\n        }\n        this.postRequest(saveUrl, params).then(function (d) {\n          if (d.data && d.data.state == 0) {\n            _this.getShippingcarList();\n          }\n        });\n      }\n    },\n\n    /**\r\n     * 店铺获取购物车\r\n     */\n    getShippingcarList: function getShippingcarList() {\n      var _this2 = this;\n\n      this.postRequest('shippingcar/queryGrouplist', {\n        buyerId: this.userInfo.typeCode,\n        sellerId: this.sellerId\n      }).then(function (d) {\n        if (d.data && d.data.state == 0) {\n          _this2.ShippingcarList = d.data.aaData;\n\n          var carIds = [];\n          _this2.alreadyChosenGoods = [];\n          for (var i in d.data.aaData) {\n            if (_this2.sellerId == i) {\n              var _iteratorNormalCompletion2 = true;\n              var _didIteratorError2 = false;\n              var _iteratorError2 = undefined;\n\n              try {\n                for (var _iterator2 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(d.data.aaData[i]), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                  var oo = _step2.value;\n\n                  oo.showjianBtn = false;\n                }\n              } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                    _iterator2.return();\n                  }\n                } finally {\n                  if (_didIteratorError2) {\n                    throw _iteratorError2;\n                  }\n                }\n              }\n\n              _this2.alreadyChosenGoods = d.data.aaData[i];\n            }\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n              for (var _iterator3 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(d.data.aaData[i]), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                var item = _step3.value;\n\n                var o = {\n                  skuId: item.skuId,\n                  carId: item.id\n                };\n                carIds.push(o);\n              }\n            } catch (err) {\n              _didIteratorError3 = true;\n              _iteratorError3 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                  _iterator3.return();\n                }\n              } finally {\n                if (_didIteratorError3) {\n                  throw _iteratorError3;\n                }\n              }\n            }\n          }\n          _this2.carIds = carIds;\n          // 计算总价\n          var selectGoodsArr = [];\n          for (var a = 0; a < _this2.alreadyChosenGoods.length; a++) {\n            for (var b = 0; b < _this2.carSettlementGoods.length; b++) {\n              if (_this2.alreadyChosenGoods[a].id == _this2.carSettlementGoods[b]) {\n                selectGoodsArr.push(_this2.carSettlementGoods[b]);\n              }\n            }\n          }\n          _this2.carSettlementGoods = selectGoodsArr;\n          if (_this2.showShopCar && _this2.carSettlementGoods.length <= 0) {\n            _this2.isCheckAll = false;\n            _this2.$refs.checklistDemo.$emit('ydui.checklist.checkall', _this2.isCheckAll);\n          }\n          _this2.orderTotal = _this2.getOrderTotal(_this2.alreadyChosenGoods).priceTotal;\n          if (_this2.$route.name == 'ShopSearch' || _this2.$route.name == 'ProSkuList' || _this2.$route.name == 'UserCollection' || _this2.$route.name == 'Home') {\n            // 如果是搜索页面不能及时更新总价\n            _this2.getSearchProCar(d.data.aaData);\n          }\n        }\n      });\n    },\n\n    /**\r\n     * 收搜商品和收藏页面请求购物车数据\r\n     */\n    getSearchProCar: function getSearchProCar(arr) {\n      var shopNum = 0;\n      this.queryGrouplist = [];\n      this.shopCar.shopMoney = '0.00';\n      for (var key in arr) {\n        shopNum++;\n        this.queryGrouplist = this.queryGrouplist.concat(arr[key]);\n      }\n      //footer购物车 店铺数量，总价格，商品数量\n      this.shopCar.shopNum = shopNum;\n      this.shopCar.commodityNum = this.queryGrouplist.length;\n      for (var a = 0; a < this.queryGrouplist.length; a++) {\n        var money = parseFloat(this.queryGrouplist[a].promotionPrice) * parseFloat(this.queryGrouplist[a].quantity);\n        this.shopCar.shopMoney = (parseFloat(this.shopCar.shopMoney) + money).toFixed(2);\n      }\n      if (this.$refs.shopCarshopMoney) {\n        this.$refs.shopCarshopMoney.innerHTML = '\\uFFE5' + this.shopCar.shopMoney;\n      }\n    },\n\n    /**\r\n     * 计算商品总价\r\n     */\n    getOrderTotal: function getOrderTotal(arr) {\n      var priceTotal = 0;\n      var quantityTotal = 0;\n      for (var i in arr) {\n        quantityTotal += arr[i].quantity;\n\n        if (arr[i].promotionPrice > 0 && arr[i].promotionBasePrice > 0) {\n          priceTotal += arr[i].quantity * arr[i].promotionPrice.mul(100);\n        } else {\n          priceTotal += arr[i].quantity * arr[i].price.mul(100);\n        }\n      }\n\n      return {\n        priceTotal: (priceTotal / 100).toFixed(2),\n        quantityTotal: (quantityTotal - 0).toFixed(2)\n      };\n    },\n\n    /**\r\n     * 判断数组是否存在某个元素\r\n     */\n    isInArray: function isInArray(arr, element) {\n      for (var i = 0; i < arr.length; i++) {\n        if (arr[i] == element) {\n          return true;\n        }\n      }\n      return false;\n    },\n\n    /**\r\n     * 统计店铺访问人数\r\n     */\n    countVisits: function countVisits() {\n      this.postRequest('store/countVisits', {\n        sellerId: this.sellerId\n      }).then(function (d) {\n        if (d.data && d.data.state == 0) {}\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"fxRn\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"+tPU\");\n__webpack_require__(\"zQR9\");\nmodule.exports = __webpack_require__(\"g8Ux\");\n\n\n/***/ }),\n\n/***/ \"g8Ux\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(\"77Pl\");\nvar get = __webpack_require__(\"3fs2\");\nmodule.exports = __webpack_require__(\"FeBl\").getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n/***/ }),\n\n/***/ \"s7OO\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"Vxc4\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(\"rjj0\").default\nvar update = add(\"fca79556\", content, true, {});\n\n/***/ }),\n\n/***/ \"vsZy\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(\"BO1k\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(\"//Fk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__configs__ = __webpack_require__(\"pyzf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mixin_shop__ = __webpack_require__(\"fYxN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mixin_category__ = __webpack_require__(\"H+kO\");\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  //mixins: [mixin_shop,mixin_category],\n  data: function data() {\n    return {\n      uploadURL: __WEBPACK_IMPORTED_MODULE_2__configs__[\"a\" /* default */].uploadURL,\n      cityName: __WEBPACK_IMPORTED_MODULE_2__configs__[\"a\" /* default */].cityName,\n      imgURL: __WEBPACK_IMPORTED_MODULE_2__configs__[\"a\" /* default */].imgURL,\n      userInfo: JSON.parse(localStorage.getItem('userInfo')),\n      // 物流方式\n      logisticsType: [{\n        type: 0,\n        name: '自提',\n        selected: false\n      }, {\n        type: 1,\n        name: '物流配送',\n        selected: true\n      }],\n      // 支付方式\n      payType: [{\n        type: 0,\n        name: '现金支付',\n        selected: true\n      }, {\n        type: 1,\n        name: 'POS刷卡',\n        selected: false\n      }, {\n        type: 2,\n        name: '微信支付',\n        selected: false\n      }, {\n        type: 3,\n        name: '支付宝支付',\n        selected: false\n      }],\n      // 配送方式\n      distributionType: [{\n        distributionType: 0,\n        name: '次日配送',\n        selected: true\n      }, {\n        distributionType: 1,\n        name: '当日配送',\n        selected: false\n      }]\n    };\n  },\n  mounted: function mounted() {\n    // // 解决苹果不回弹页面\n    // this.$nextTick(()=>{\n    //   var u = navigator.userAgent;\n    //   var app = navigator.appVersion;\n    //   var isIOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\n    //   let ele = document.getElementsByTagName(\"input\");\n\n    //   if (isIOS) {\n    //     for (let i of ele) {\n    //       // console.log(i)\n    //       i.onblur = function() {\n    //         this.blurAdjust();\n    //       }.bind(this);\n    //     }\n    //   }\n    // })\n  },\n\n  methods: {\n    /**\r\n    * 获取服务器时间\r\n    */\n    getServerTime: function getServerTime() {\n      var _this = this;\n\n      return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n        _this.postRequest('store/getServerTime', {}).then(function (d) {\n          if (d && d.data.state == 0) {\n            resolve(d.data.aaData);\n          } else {\n            resolve(null);\n          }\n        });\n      });\n    },\n\n    /**\r\n     * 格式化商品价格\r\n     * @param {*} val \r\n     */\n    priceFormat: function priceFormat(val) {\n      if (typeof val === 'number') {\n        return val.div(100) || 0;\n      } else {\n        return val || 0;\n      }\n    },\n\n    // 解决苹果不回弹页面\n    blurAdjust: function blurAdjust(e) {\n      // console.log(111)\n      setTimeout(function () {\n        if (document.activeElement.tagName == \"INPUT\" || document.activeElement.tagName == \"TEXTAREA\") {\n          return;\n        }\n        var result = \"pc\";\n        if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {\n          //判断iPhone|iPad|iPod|iOS\n          result = \"ios\";\n        } else if (/(Android)/i.test(navigator.userAgent)) {\n          //判断Android\n          result = \"android\";\n        }\n\n        if (result = \"ios\") {\n          document.activeElement.scrollIntoViewIfNeeded(true);\n        }\n      }, 100);\n    },\n\n    /**\r\n     * 数组去重\r\n     * @param arr \r\n     */\n    uniqueArr: function uniqueArr(arr) {\n      var res = [];\n      var obj = {};\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(arr), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var v = _step.value;\n\n          if (!obj[v]) {\n            res.push(v);\n            obj[v] = 1;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return res;\n    },\n\n    /**\r\n     * 获取不同的日期\r\n     * @param AddDayCount 目标天数与当天的差\r\n     * @returns {string}\r\n     * @constructor\r\n     */\n    GetDateStr: function GetDateStr(AddDayCount, server_date) {\n      var dd = new Date();\n      if (server_date) {\n        dd = new Date(server_date.replace(/-/g, '/'));\n      }\n      dd.setDate(dd.getDate() + AddDayCount);\n      var y = dd.getFullYear();\n      var m = dd.getMonth() + 1;\n      var d = dd.getDate();\n      var w = dd.getDay();\n      var wstr = '日一二三四五六';\n      if (m < 10) {\n        m = '0' + m;\n      }\n      if (d < 10) {\n        d = '0' + d;\n      }\n      return {\n        date: y + '-' + m + '-' + d,\n        week: '\\u661F\\u671F' + wstr.charAt(w)\n      };\n    }\n  }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/34.ab559bdf7b69e0cc70cd.js","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = BO1k\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 28 29 30 31 32 33 34 35","export default {\r\n  data() {\r\n    return {\r\n      // 一级商品分类列表\r\n      categoryList: [],\r\n      // 获取商品参数\r\n      gbgoodsId: '',\r\n      // 二级分类列表\r\n      secondCategoryList: [],\r\n      // 判断是否为个人中心进入\r\n      isUserEnter: false,\r\n      // 是否常买菜单被点击\r\n      isOftenBuy: false\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 处理是否选择数据\r\n     */\r\n    addActiveStatus(arr) {\r\n      var activeCount = 1\r\n      this.isUserEnter ? activeCount = 0 : activeCount = 1\r\n      for (var i in arr) {\r\n        if (i == activeCount) {\r\n          arr[i].isActive = true\r\n        } else {\r\n          arr[i].isActive = false\r\n        }\r\n      }\r\n      return arr\r\n    },\r\n    /**\r\n     * 点击商品分类\r\n     */\r\n    menuClick(d) {\r\n      this.pageNum = 1\r\n      this.productList = []\r\n      if (this.$refs.productList) {\r\n        this.$refs.productList.$emit('ydui.infinitescroll.reInit');\r\n      }\r\n      if (!d.isActive) {\r\n        d.isActive = true\r\n      }\r\n      for (var item of this.categoryList) {\r\n        // 是否选择处理\r\n        if (d.id != item.id) {\r\n          item.isActive = false\r\n        }\r\n      }\r\n      // 获取二级分类\r\n      if (d.id == 'oftenbuy') { // 获取常买商品\r\n        this.secondCategoryList = []\r\n        this.isOftenBuy = true\r\n        this.gbgoodsId = ''\r\n        this.getProductList()\r\n      } else {\r\n        this.isOftenBuy = false\r\n        if (d.childList) {\r\n          this.secondCategoryList = d.childList\r\n          // 子分类第一条数据添加选中状态\r\n          // 如果有一天需要默认选择第一个二级分类就放开这个注释\r\n          //\t\t\t\t\tthis.secondCategoryList[0].isActive = true\r\n          for (var i in this.secondCategoryList) {\r\n            if (i != 0 && this.secondCategoryList[i].isActive) {\r\n              this.secondCategoryList[i].isActive = false\r\n            }\r\n          }\r\n          // 查找商品\r\n          // 如果有一天需要默认选择第一个二级分类就放开这个注释\r\n          //\t\t\t\t\tthis.gbgoodsId = this.secondCategoryList[0].gbgoodsId\r\n          this.gbgoodsId = d.gbgoodsId\r\n          this.getProductList()\r\n        } else {\r\n          this.secondCategoryList = []\r\n          this.gbgoodsId = d.gbgoodsId\r\n          this.getProductList()\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * 获取商品分类\r\n     */\r\n    getCategoryList() {\r\n      // \t\t\tif(localStorage.getItem('categoryList')) {\r\n      // \t\t\t\tthis.categoryList = this.addActiveStatus(JSON.parse(localStorage.getItem('categoryList')))\r\n      // \t\t\t\tthis.getSonCategoryList(this.categoryList)\r\n      // \t\t\t} else {\r\n      this.getCategoryListSaveLocal()\r\n      // }\r\n    },\r\n    /**\r\n     * 获取分类列表缓存本地\r\n     */\r\n    getCategoryListSaveLocal() {\r\n      this.postRequest('category/childList', {\r\n        parentCategoryId: 'top',\r\n        filteEnabled: 1,\r\n        filteDeleted: 0,\r\n        orderField: 't.f_id',\r\n        supplierId: this.sellerId\r\n      }).then(resp => {\r\n        if (resp && resp.data && resp.data.state == 0) {\r\n          // 添加常买选项\r\n          resp.data.aaData.unshift({\r\n            name: '常买',\r\n            id: 'oftenbuy'\r\n          })\r\n          // 商品分类数据\r\n          this.categoryList = this.addActiveStatus(resp.data.aaData)\r\n          this.getSonCategoryList(this.categoryList)\r\n          // 缓存分类列表\r\n          // localStorage.setItem('categoryList', JSON.stringify(this.categoryList))\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * 获取二级分类\r\n     */\r\n    getSonCategoryList(categoryList) {\r\n      // 添加二级分类isActive\r\n      for (var i in categoryList) {\r\n        if (categoryList[i].childList) { // 如果存在二级分类\r\n          for (var j in categoryList[i].childList) {\r\n            // 如果有一天需要默认选择第一个二级分类就放开这个注释\r\n            //\t\t\t\t\t\tif(j == 0) {\r\n            //\t\t\t\t\t\t\tcategoryList[i].childList[j].isActive = true\r\n            //\t\t\t\t\t\t} else {\r\n            categoryList[i].childList[j].isActive = false\r\n            //\t\t\t\t\t\t}\r\n          }\r\n        }\r\n      }\r\n\r\n      // 默认选择第一个分类\r\n      if (this.isOftenBuy) {\r\n        this.getProductList()\r\n      } else {\r\n        if (categoryList.length > 1 && categoryList[1].childList) {\r\n          this.secondCategoryList = categoryList[1].childList\r\n          // 如果有一天需要默认选择第一个二级分类就放开这个注释\r\n          // this.gbgoodsId = this.secondCategoryList[0].gbgoodsId\r\n          this.gbgoodsId = categoryList[1].gbgoodsId\r\n          this.getProductList()\r\n        } else {\r\n          this.secondCategoryList = []\r\n          if (categoryList.length > 1) {\r\n            this.gbgoodsId = categoryList[1].gbgoodsId\r\n            this.getProductList()\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/mixin_category.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('yd-layout',[_c('yd-scrolltab',[_c('div',{attrs:{\"id\":\"UserNewAddress\"}},[_c('yd-cell-group',[_c('yd-cell-item',{attrs:{\"arrow\":\"\"}},[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('div',{staticClass:\"lable\"},[_c('strong',[_vm._v(\"行政区\")])])]),_vm._v(\" \"),(_vm.form.provinceName||_vm.form.cityName||_vm.form.districName)?_c('div',{staticClass:\"select_addr\",attrs:{\"slot\":\"right\"},on:{\"click\":function($event){_vm.selectAddr(_vm.form)}},slot:\"right\"},[_vm._v(_vm._s(_vm.form.provinceName+'/'+_vm.form.cityName+'/'+_vm.form.districName))]):_c('div',{staticClass:\"select_addr\",attrs:{\"slot\":\"right\"},on:{\"click\":function($event){_vm.selectAddr(_vm.form)}},slot:\"right\"},[_vm._v(\"请优先选择您的区域地址\")])]),_vm._v(\" \"),(_vm.form.provinceName||_vm.form.cityName||_vm.form.districName)?_c('yd-cell-item',[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('div',{staticClass:\"lable\"},[_c('strong',[_vm._v(\"联系人\")])])]),_vm._v(\" \"),_c('yd-input',{attrs:{\"slot\":\"right\",\"max\":\"20\",\"placeholder\":\"请输入联系人\",\"show-success-icon\":false},slot:\"right\",model:{value:(_vm.form.contacts),callback:function ($$v) {_vm.$set(_vm.form, \"contacts\", $$v)},expression:\"form.contacts\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.form.provinceName||_vm.form.cityName||_vm.form.districName)?_c('yd-cell-item',[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('div',{staticClass:\"lable\"},[_c('strong',[_vm._v(\"电话\")])])]),_vm._v(\" \"),_c('yd-input',{attrs:{\"slot\":\"right\",\"type\":\"number\",\"regex\":\"mobile\",\"max\":\"20\",\"placeholder\":\"请输入手机号码\",\"show-success-icon\":false},slot:\"right\",model:{value:(_vm.form.phoneNumber),callback:function ($$v) {_vm.$set(_vm.form, \"phoneNumber\", _vm._n($$v))},expression:\"form.phoneNumber\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.form.provinceName||_vm.form.cityName||_vm.form.districName)?_c('yd-cell-item',[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('div',{staticClass:\"lable\"},[_c('strong',[_vm._v(\"详细地址\")])])]),_vm._v(\" \"),_c('yd-input',{attrs:{\"slot\":\"right\",\"max\":\"20\",\"placeholder\":\"例：XX街道XX号\",\"show-success-icon\":false},slot:\"right\",model:{value:(_vm.form.detailedAddress),callback:function ($$v) {_vm.$set(_vm.form, \"detailedAddress\", $$v)},expression:\"form.detailedAddress\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.form.provinceName||_vm.form.cityName||_vm.form.districName)?_c('yd-cell-item',{staticClass:\"textarea\"},[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('div',{staticClass:\"lable\"},[_c('strong',[_vm._v(\"完整信息\")])])]),_vm._v(\" \"),_c('yd-textarea',{attrs:{\"slot\":\"right\",\"readonly\":\"\",\"placeholder\":\"完整信息\",\"maxlength\":\"100\"},slot:\"right\",model:{value:(_vm.form.completeAddress),callback:function ($$v) {_vm.$set(_vm.form, \"completeAddress\", $$v)},expression:\"form.completeAddress\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.form.provinceName||_vm.form.cityName||_vm.form.districName)?_c('yd-cell-item',{staticClass:\"textarea\"},[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('div',{staticClass:\"lable\"},[_c('strong',[_vm._v(\"备注\")])])]),_vm._v(\" \"),_c('yd-textarea',{attrs:{\"slot\":\"right\",\"placeholder\":\"请输入备注信息\",\"maxlength\":\"100\",\"show-success-icon\":false},slot:\"right\",model:{value:(_vm.form.comment),callback:function ($$v) {_vm.$set(_vm.form, \"comment\", $$v)},expression:\"form.comment\"}})],1):_vm._e()],1)],1)]),_vm._v(\" \"),_c('yd-button',{staticStyle:{\"padding\":\"0 0.24rem\",\"position\":\"absolute\",\"bottom\":\"0\",\"width\":\"100%\"},attrs:{\"size\":\"large\",\"bgcolor\":\"#6FB138\",\"color\":\"#fff\"},nativeOn:{\"click\":function($event){return _vm.save($event)}}},[_vm._v(\"保存\")])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-02c18ed0\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/UserNewAddress.vue\n// module id = Lp7M\n// module chunks = 34","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserNewAddress.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserNewAddress.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserNewAddress.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02c18ed0\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserNewAddress.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/UserNewAddress.vue\n// module id = REvB\n// module chunks = 34","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"#UserNewAddress{height:100%;overflow:auto}#UserNewAddress .yd-scrolltab-content{padding:0}#UserNewAddress .yd-scrolltab{top:0;bottom:1rem}#UserNewAddress textarea{font-family:PingFang-SC-Medium}#UserNewAddress .textarea .yd-cell-left{-webkit-box-align:start;-moz-align-items:start;-webkit-align-items:start;align-items:start;padding:.2rem 0}#UserNewAddress select{color:#333;padding-left:5px;font-family:PingFang-SC-Medium}#UserNewAddress .lable{width:1.8rem;font-size:.3rem}#UserNewAddress .yd-cell-right.yd-cell-arrow{-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}#UserNewAddress .yd-cell-right.yd-cell-arrow:after{position:absolute;right:.3rem}#UserNewAddress .select_addr{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}#UserNewAddress::-webkit-scrollbar{display:none}\", \"\", {\"version\":3,\"sources\":[\"D:/Web/银川电子结算new/北环/前端/微信商城/src/views/user/UserNewAddress.vue\"],\"names\":[],\"mappings\":\"AACA,gBACE,YAAa,AACb,aAAe,CAChB,AACD,sCACI,SAAiB,CACpB,AACD,8BACI,MAAU,AACV,WAAa,CAChB,AACD,yBACI,8BAAkC,CACrC,AACD,wCACI,wBAAyB,AACzB,uBAAwB,AACxB,0BAA2B,AAC3B,kBAAmB,AACnB,eAAiB,CACpB,AACD,uBACI,WAAY,AACZ,iBAAkB,AAClB,8BAAkC,CACrC,AACD,uBACI,aAAc,AACd,eAAkB,CACrB,AACD,6CACI,uBAAwB,AACxB,mCAAoC,AAC5B,0BAA4B,CACvC,AACD,mDACM,kBAAmB,AACnB,WAAa,CAClB,AACD,6BACI,WAAY,AACZ,YAAa,AACb,oBAAqB,AACrB,qBAAsB,AACtB,aAAc,AACd,yBAA0B,AAC1B,2BAA4B,AACpB,kBAAoB,CAC/B,AACD,mCACE,YAAc,CACf\",\"file\":\"UserNewAddress.vue\",\"sourcesContent\":[\"\\n#UserNewAddress {\\n  height: 100%;\\n  overflow: auto;\\n}\\n#UserNewAddress .yd-scrolltab-content {\\n    padding: 0 0 0 0;\\n}\\n#UserNewAddress .yd-scrolltab {\\n    top: 0rem;\\n    bottom: 1rem;\\n}\\n#UserNewAddress textarea {\\n    font-family: 'PingFang-SC-Medium';\\n}\\n#UserNewAddress .textarea .yd-cell-left {\\n    -webkit-box-align: start;\\n    -moz-align-items: start;\\n    -webkit-align-items: start;\\n    align-items: start;\\n    padding: .2rem 0;\\n}\\n#UserNewAddress select {\\n    color: #333;\\n    padding-left: 5px;\\n    font-family: 'PingFang-SC-Medium';\\n}\\n#UserNewAddress .lable {\\n    width: 1.8rem;\\n    font-size: 0.3rem;\\n}\\n#UserNewAddress .yd-cell-right.yd-cell-arrow {\\n    -webkit-box-pack: start;\\n    -webkit-justify-content: flex-start;\\n            justify-content: flex-start;\\n}\\n#UserNewAddress .yd-cell-right.yd-cell-arrow:after {\\n      position: absolute;\\n      right: .3rem;\\n}\\n#UserNewAddress .select_addr {\\n    width: 100%;\\n    height: 100%;\\n    display: -webkit-box;\\n    display: -webkit-flex;\\n    display: flex;\\n    -webkit-box-align: center;\\n    -webkit-align-items: center;\\n            align-items: center;\\n}\\n#UserNewAddress::-webkit-scrollbar {\\n  display: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"optionsId\":\"0\",\"vue\":true,\"scoped\":false,\"sourceMap\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/user/UserNewAddress.vue\n// module id = Vxc4\n// module chunks = 34","<template>\r\n  <yd-layout>\r\n    <yd-scrolltab>\r\n      <div id=\"UserNewAddress\">\r\n        <yd-cell-group>\r\n          <yd-cell-item arrow>\r\n            <span slot=\"left\">\r\n              <div class=\"lable\">\r\n                <strong>行政区</strong>\r\n              </div>\r\n            </span>\r\n\r\n            <div v-if='form.provinceName||form.cityName||form.districName' class=\"select_addr\" @click='selectAddr(form)' slot=\"right\">{{form.provinceName+'/'+form.cityName+'/'+form.districName}}</div>\r\n            <div v-else class=\"select_addr\" @click='selectAddr(form)' slot=\"right\">请优先选择您的区域地址</div>\r\n            <!--<select v-model=\"form.provinceCode\" slot=\"right\" @change=\"changeProvinceList\">\r\n\t\t\t\t\t\t\t<option value=\"\" disabled selected>请选择省</option>\r\n\t\t\t\t\t\t\t<option :value=\"d.areaCode\" v-for=\"d in ProvinceList\">{{d.areaName}}</option>\r\n\t\t\t\t\t\t</select>-->\r\n          </yd-cell-item>\r\n          <yd-cell-item v-if='form.provinceName||form.cityName||form.districName'>\r\n            <span slot=\"left\">\r\n              <div class=\"lable\">\r\n                <strong>联系人</strong>\r\n              </div>\r\n            </span>\r\n            <yd-input slot=\"right\" v-model=\"form.contacts\" max=\"20\" placeholder=\"请输入联系人\" :show-success-icon=\"false\"></yd-input>\r\n          </yd-cell-item>\r\n          <!--  <yd-cell-item>\r\n\t\t\t\t        <span slot=\"left\">\r\n\t\t\t\t          <div class=\"lable\"></div>\r\n\t\t\t\t        </span>\r\n\t\t\t\t        <span slot=\"left\">\r\n\t\t\t\t          <yd-badge shape=\"square\" type=\"hollow\">先生</yd-badge>\r\n\t\t\t\t          <yd-badge shape=\"square\" type=\"hollow\">女士</yd-badge>\r\n\t\t\t\t        </span>\r\n\t\t\t\t     </yd-cell-item> -->\r\n          <yd-cell-item v-if='form.provinceName||form.cityName||form.districName'>\r\n            <span slot=\"left\">\r\n              <div class=\"lable\">\r\n                <strong>电话</strong>\r\n              </div>\r\n            </span>\r\n            <yd-input slot=\"right\" type=\"number\" regex=\"mobile\" v-model.number=\"form.phoneNumber\" max=\"20\" placeholder=\"请输入手机号码\" :show-success-icon=\"false\"></yd-input>\r\n          </yd-cell-item>\r\n\r\n          <!--<yd-cell-item arrow>\r\n\t\t\t\t\t\t<span slot=\"left\">\r\n\t\t\t\t          <div class=\"lable\">\r\n\t\t\t\t            <strong>市</strong>\r\n\t\t\t\t          </div>\r\n\t\t\t\t        </span>\r\n\t\t\t\t\t\t<select v-model=\"form.cityCode\" slot=\"right\" @change=\"changeCityList\">\r\n\t\t\t\t\t\t\t<option value=\"\" disabled selected>请选择市</option>\r\n\t\t\t\t\t\t\t<option :value=\"d.areaCode\" v-for=\"d in CityList\">{{d.areaName}}</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</yd-cell-item>\r\n\t\t\t\t\t<yd-cell-item arrow>\r\n\t\t\t\t\t\t<span slot=\"left\">\r\n\t\t\t\t          <div class=\"lable\">\r\n\t\t\t\t            <strong>区/县</strong>\r\n\t\t\t\t          </div>\r\n\t\t\t\t        </span>\r\n\t\t\t\t\t\t<select v-model=\"form.districCode\" slot=\"right\">\r\n\t\t\t\t\t\t\t<option value=\"\" disabled selected>请选择区/县</option>\r\n\t\t\t\t\t\t\t<option :value=\"d.areaCode\" v-for=\"d in DistricList\">{{d.areaName}}</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</yd-cell-item>-->\r\n          <yd-cell-item v-if='form.provinceName||form.cityName||form.districName'>\r\n            <span slot=\"left\">\r\n              <div class=\"lable\">\r\n                <strong>详细地址</strong>\r\n              </div>\r\n            </span>\r\n            <yd-input slot=\"right\" v-model=\"form.detailedAddress\" max=\"20\" placeholder=\"例：XX街道XX号\" :show-success-icon=\"false\"></yd-input>\r\n          </yd-cell-item>\r\n          <yd-cell-item class=\"textarea\" v-if='form.provinceName||form.cityName||form.districName'>\r\n            <span slot=\"left\">\r\n              <div class=\"lable\">\r\n                <strong>完整信息</strong>\r\n              </div>\r\n            </span>\r\n            <!--<span slot=\"left\">{{form.completeAddress}}</span>-->\r\n            <yd-textarea slot=\"right\" readonly placeholder=\"完整信息\" v-model=\"form.completeAddress\" maxlength=\"100\"></yd-textarea>\r\n          </yd-cell-item>\r\n          <yd-cell-item class=\"textarea\" v-if='form.provinceName||form.cityName||form.districName'>\r\n            <span slot=\"left\">\r\n              <div class=\"lable\">\r\n                <strong>备注</strong>\r\n              </div>\r\n            </span>\r\n            <yd-textarea slot=\"right\" placeholder=\"请输入备注信息\" v-model=\"form.comment\" maxlength=\"100\" :show-success-icon=\"false\"></yd-textarea>\r\n          </yd-cell-item>\r\n        </yd-cell-group>\r\n      </div>\r\n    </yd-scrolltab>\r\n\r\n    <!--<div class=\"flex flex-x-center\" style=\"padding: 0 0.24rem;position: absolute;bottom: 0;width: 100%;\">\r\n\t\t\t<div @click=\"save\" class=\"loginbtn flex flex-y-center flex-x-center\">\r\n\t\t\t\t<span>保存</span>\r\n\t\t\t</div>\r\n\t\t</div>-->\r\n    <yd-button @click.native=\"save\" size=\"large\" bgcolor=\"#6FB138\" color=\"#fff\" style=\"padding: 0 0.24rem;position: absolute;bottom: 0;width: 100%;\">保存</yd-button>\r\n  </yd-layout>\r\n</template>\r\n<script>\r\n  import mixin from '../../utils/mixin.js';\r\n  export default {\r\n    mixins: [mixin],\r\n    data() {\r\n      return {\r\n        type: 'add',\r\n        form: {\r\n          id: '',\r\n          districName: '',\r\n          detailedAddress: '',\r\n          completeAddress: '',\r\n          contacts: '',\r\n          phoneNumber: '',\r\n          customerId: '',\r\n          longitude: '',\r\n          latitude: '',\r\n          provinceCode: '',\r\n          cityCode: '',\r\n          districCode: '',\r\n          comment: '',\r\n          getAddr: {},\r\n        },\r\n        ProvinceList: [],\r\n        CityList: [],\r\n        DistricList: [],\r\n\t\t\t\trouterHistoryNum: -2\r\n      }\r\n    },\r\n    watch: {\r\n      \"form.detailedAddress\": function (val, oldVal) {\r\n        this.form.completeAddress = this.form.provinceName + this.form.cityName + this.form.districName + val\r\n      }\r\n    },\r\n    created() {\r\n\t\t\tif(this.$route.query.routerHistoryNum){\r\n\t\t\t\tthis.routerHistoryNum = this.$route.query.routerHistoryNum\r\n\t\t\t}\r\n      //\t\t\tv-if='form.provinceName||form.cityName||form.districName'\r\n      this.$store.dispatch('changeNavBarTitle', '')\r\n      if (sessionStorage.getItem('getAddr')) {\r\n        this.getAddr = JSON.parse(sessionStorage.getItem('getAddr'))\r\n        sessionStorage.setItem('getAddr', '')\r\n      }\r\n\r\n      this.init()\r\n\r\n      this.postRequest('address/queryByCustomerId', {\r\n        customerId: this.userInfo.typeCode,\r\n      }).then(res => {\r\n        if (res.data.aaData) {\r\n          this.type = 'edit'\r\n        }\r\n        if (this.type == 'add') {\r\n          this.$store.dispatch('changeNavBarTitle', '新增地址')\r\n        } else {\r\n          this.$store.dispatch('changeNavBarTitle', '编辑地址')\r\n          this.form = res.data.aaData\r\n\r\n          this.getCityList()\r\n          this.getDistricList()\r\n        }\r\n        if (this.getAddr) {\r\n          this.form.longitude = this.getAddr.location.lng\r\n          this.form.latitude = this.getAddr.location.lat\r\n          this.form.provinceName = this.getAddr.pname\r\n          this.form.provinceCode = this.getAddr.pcode\r\n          this.form.cityName = this.getAddr.cityname\r\n          this.form.cityCode = this.getAddr.pcode\r\n          this.form.districName = this.getAddr.adname\r\n          this.form.districCode = this.getAddr.adcode //zhanhuan\r\n          this.form.detailedAddress = this.getAddr.address + this.getAddr.name\r\n          this.form.completeAddress = this.getAddr.pname +\r\n            '/' + this.getAddr.cityname +\r\n            '/' + this.getAddr.adname + '，'\r\n          this.getAddr.name + '，' +\r\n            this.getAddr.address\r\n        }\r\n      })\r\n    },\r\n    mounted() {\r\n\r\n    },\r\n    methods: {\r\n      selectAddr(form) {\r\n        if (form.provinceName || form.cityName || form.districName) {\r\n          this.$dialog.confirm({\r\n            title: '提示：',\r\n            mes: '离开此页面，系统可能不会保存你做的修改。',\r\n            opts: () => {\r\n              this.$router.push({\r\n                name: 'selectAddr'\r\n              })\r\n            }\r\n          });\r\n        } else {\r\n          this.$router.push({\r\n            name: 'selectAddr'\r\n          })\r\n        }\r\n\r\n      },\r\n      /**\r\n       * 初始化\r\n       */\r\n      init() {\r\n        this.getProvinceList()\r\n      },\r\n      /**\r\n       * 获取省列表\r\n       */\r\n      getProvinceList() {\r\n        this.postRequest('comArea/list', {\r\n          level: 1\r\n        }).then(d => {\r\n          if (d.data && d.data.state == 0) {\r\n            this.ProvinceList = d.data.aaData\r\n          }\r\n        })\r\n      },\r\n      changeProvinceList() {\r\n        this.form.cityCode = ''\r\n        this.form.districCode = ''\r\n        this.getCityList()\r\n      },\r\n      /**\r\n       * 获取市列表\r\n       */\r\n      getCityList() {\r\n        this.postRequest('comArea/list', {\r\n          parentAreaCode: this.form.provinceCode,\r\n          level: 2\r\n        }).then(d => {\r\n          if (d.data && d.data.state == 0) {\r\n            this.CityList = d.data.aaData\r\n          }\r\n        })\r\n      },\r\n      changeCityList() {\r\n        this.form.districCode = ''\r\n        this.getDistricList()\r\n      },\r\n      /**\r\n       * 获取县区列表\r\n       */\r\n      getDistricList() {\r\n        this.postRequest('comArea/list', {\r\n          parentAreaCode: this.form.cityCode,\r\n          level: 3\r\n        }).then(d => {\r\n          if (d.data && d.data.state == 0) {\r\n            this.DistricList = d.data.aaData\r\n          }\r\n        })\r\n      },\r\n      /**\r\n       * 保存\r\n       */\r\n      save() {\r\n        var url = 'address/create'\r\n        var telReg = /^[1][3,4,5,7,8,9][0-9]{9}$/;\r\n        var param = {\r\n          id: this.form.id,\r\n          provinceCode: this.form.provinceCode,\r\n          cityCode: this.form.cityCode,\r\n          districCode: this.form.districCode,\r\n          detailedAddress: this.form.detailedAddress,\r\n          contacts: this.form.contacts,\r\n          phoneNumber: this.form.phoneNumber,\r\n          customerId: this.form.customerId,\r\n          comment: this.form.comment,\r\n          latitude: this.form.latitude,\r\n          longitude: this.form.longitude,\r\n        }\r\n        if (param.provinceCode == '') {\r\n          this.$dialog.alert({\r\n            mes: '请选择行政区'\r\n          });\r\n          return\r\n        }\r\n        if (param.cityCode == '') {\r\n          this.$dialog.alert({\r\n            mes: '请选择行政区'\r\n          });\r\n          return\r\n        }\r\n        if (param.districCode == '') {\r\n          this.$dialog.alert({\r\n            mes: '请选择行政区'\r\n          });\r\n          return\r\n        }\r\n        if (param.contacts == '') {\r\n          this.$dialog.alert({\r\n            mes: '请填写联系人'\r\n          });\r\n          return\r\n        }\r\n        if (param.phoneNumber == '') {\r\n          this.$dialog.alert({\r\n            mes: '请填写手机号码'\r\n          });\r\n          return\r\n        } else {\r\n          if (!telReg.test(param.phoneNumber)) {\r\n            this.$dialog.alert({\r\n              mes: '请输入正确的手机号码！'\r\n            });\r\n            return\r\n          }\r\n        }\r\n        if (param.detailedAddress == '') {\r\n          this.$dialog.alert({\r\n            mes: '请填写详细地址'\r\n          });\r\n          return\r\n        }\r\n\r\n\r\n        if (this.type == 'edit') {\r\n          url = 'address/update'\r\n        } else {\r\n          param.customerId = this.userInfo.typeCode\r\n        }\r\n\r\n        this.postRequest('comArea/list', {\r\n          parentAreaCode: param.provinceCode,\r\n          level: 2\r\n        }).then(d => {\r\n          if (d.data && d.data.state == 0) {\r\n            for (let a = 0; a < d.data.aaData.length; a++) {\r\n              if (d.data.aaData[a].areaName == this.form.cityName) {\r\n                param.cityCode = d.data.aaData[a].areaCode\r\n                break\r\n              }\r\n            }\r\n            this.postRequest(url, param).then(d => {\r\n              if (d.data && d.data.state == 0) {\r\n                this.$dialog.toast({\r\n                  mes: '保存成功',\r\n                  timeout: 1200,\r\n                  icon: 'success',\r\n                  callback: function () {\r\n                    this.$router.replace({\r\n                      name: 'UserAddress',\r\n                      query: {\r\n                        routerHistoryNum: this.routerHistoryNum\r\n                      }\r\n                    })\r\n                  }.bind(this)\r\n                });\r\n              }\r\n            })\r\n          }\r\n        })\r\n      }\r\n    }\r\n  };\r\n</script>\r\n<style lang=\"scss\">\r\n  #UserNewAddress {\r\n    .yd-scrolltab-content {\r\n      padding: 0 0 0 0;\r\n    }\r\n    .yd-scrolltab {\r\n      top: 0rem;\r\n      bottom: 1rem;\r\n    }\r\n    height: 100%;\r\n    overflow: auto;\r\n    textarea {\r\n      font-family: 'PingFang-SC-Medium';\r\n    }\r\n    .textarea {\r\n      .yd-cell-left {\r\n        -webkit-box-align: start;\r\n        -moz-align-items: start;\r\n        -webkit-align-items: start;\r\n        align-items: start;\r\n        padding: .2rem 0;\r\n      }\r\n    }\r\n    select {\r\n      color: #333;\r\n      padding-left: 5px;\r\n      font-family: 'PingFang-SC-Medium';\r\n    }\r\n    .lable {\r\n      width: 1.8rem;\r\n      font-size: 0.3rem;\r\n    }\r\n    .yd-cell-right.yd-cell-arrow {\r\n      justify-content: flex-start;\r\n      &:after {\r\n        position: absolute;\r\n        right: .3rem;\r\n      }\r\n    }\r\n    .select_addr {\r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n  }\r\n\r\n  #UserNewAddress::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/UserNewAddress.vue","export default {\r\n  data() {\r\n    return {\r\n      carIds: [], // 创建购物车返回的id\r\n      ShippingcarList: [], // 购物车数据\r\n      alreadyChosenGoods: [], // 购物车当前供应商已经选择的商品\r\n      orderTotal: 0, // 当前店铺选择商品总价\r\n      shopCar: {\r\n        shopNum: 0,\r\n        commodityNum: 0,\r\n        shopAllMoney: \"0.00\",\r\n      },\r\n      queryGrouplist: []\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 创建购物车\r\n     */\r\n    createShippingcar(sku) {\r\n      var saveUrl;\r\n      var params = {\r\n        buyerId: this.userInfo.typeCode,\r\n        productId: sku.productId,\r\n        productName: sku.productName,\r\n        skuId: sku.id,\r\n        skuName: sku.name,\r\n        quantity: sku.quantity,\r\n        comment: sku.remark || '',\r\n        sellerId: this.sellerId || this.$route.query.sellerId || sku.sellerId,\r\n      }\r\n\r\n      if (sku.supplierId) { // 如果搜索的是全不供应商的商品加入购物车\r\n        params.sellerId = sku.supplierId\r\n      }\r\n\r\n      if (sku.skuId) {\r\n        params.skuId = sku.skuId\r\n      }\r\n      if (sku.skuName) {\r\n        params.skuName = sku.skuName\r\n      }\r\n\r\n      // 判断是否新增是否更新\r\n      var skuIdsArr = []\r\n      for (var item of this.carIds) {\r\n        skuIdsArr.push(item.skuId)\r\n      }\r\n\r\n      if (!this.isInArray(skuIdsArr, params.skuId)) {\r\n        saveUrl = 'shippingcar/create'\r\n        this.postRequest(saveUrl, params).then(d => {\r\n          if (d.data && d.data.state == 0) {\r\n            var o = {\r\n              skuId: sku.id || sku.skuId,\r\n              carId: d.data.aaData.id\r\n            }\r\n            this.carIds.push(o)\r\n            this.getShippingcarList()\r\n          } else {\r\n            sku.showjianBtn = false\r\n            sku.quantity = 0\r\n            this.$dialog.alert({\r\n              mes: d.data.msg\r\n            })\r\n          }\r\n        })\r\n      } else {\r\n        if (sku.quantity == 0) {\r\n          saveUrl = 'shippingcar/delete'\r\n        } else {\r\n          saveUrl = 'shippingcar/update'\r\n        }\r\n        for (var i in this.carIds) {\r\n          if (this.carIds[i].skuId == sku.id || this.carIds[i].skuId == sku.skuId) {\r\n            params.id = this.carIds[i].carId\r\n          }\r\n        }\r\n        this.postRequest(saveUrl, params).then(d => {\r\n          if (d.data && d.data.state == 0) {\r\n            this.getShippingcarList()\r\n          }\r\n        })\r\n      }\r\n    },\r\n    /**\r\n     * 店铺获取购物车\r\n     */\r\n    getShippingcarList() {\r\n      this.postRequest('shippingcar/queryGrouplist', {\r\n        buyerId: this.userInfo.typeCode,\r\n        sellerId: this.sellerId\r\n      }).then(d => {\r\n        if (d.data && d.data.state == 0) {\r\n          this.ShippingcarList = d.data.aaData\r\n\r\n          var carIds = []\r\n          this.alreadyChosenGoods = []\r\n          for (var i in d.data.aaData) {\r\n            if (this.sellerId == i) {\r\n              for (var oo of d.data.aaData[i]) {\r\n                oo.showjianBtn = false\r\n              }\r\n              this.alreadyChosenGoods = d.data.aaData[i]\r\n            }\r\n            for (var item of d.data.aaData[i]) {\r\n              var o = {\r\n                skuId: item.skuId,\r\n                carId: item.id\r\n              }\r\n              carIds.push(o)\r\n            }\r\n          }\r\n          this.carIds = carIds\r\n          // 计算总价\r\n\t\t\t\t\tvar selectGoodsArr=[]\r\n\t\t\t\t\tfor(let a=0;a<this.alreadyChosenGoods.length;a++){\r\n\t\t\t\t\t\tfor(let b=0;b<this.carSettlementGoods.length;b++){\r\n\t\t\t\t\t\t\tif(this.alreadyChosenGoods[a].id==this.carSettlementGoods[b]){\r\n\t\t\t\t\t\t\t\tselectGoodsArr.push(this.carSettlementGoods[b])\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.carSettlementGoods=selectGoodsArr\r\n\t\t\t\t\tif(this.showShopCar&&this.carSettlementGoods.length<=0){\r\n\t\t\t\t\t\tthis.isCheckAll=false\r\n\t\t\t\t\t\tthis.$refs.checklistDemo.$emit('ydui.checklist.checkall', this.isCheckAll);\r\n\t\t\t\t\t}\r\n          this.orderTotal = this.getOrderTotal(this.alreadyChosenGoods).priceTotal\r\n\t\t\t\t\tif(this.$route.name=='ShopSearch' || this.$route.name=='ProSkuList' || this.$route.name=='UserCollection' || this.$route.name=='Home'){ // 如果是搜索页面不能及时更新总价\r\n\t\t\t\t\t\tthis.getSearchProCar(d.data.aaData)\r\n\t\t\t\t\t}\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * 收搜商品和收藏页面请求购物车数据\r\n     */\r\n    getSearchProCar(arr) {\r\n      var shopNum = 0;\r\n      this.queryGrouplist = [];\r\n      this.shopCar.shopMoney = '0.00'\r\n      for (var key in arr) {\r\n        shopNum++\r\n        this.queryGrouplist = this.queryGrouplist.concat(arr[key])\r\n      }\r\n      //footer购物车 店铺数量，总价格，商品数量\r\n      this.shopCar.shopNum = shopNum\r\n      this.shopCar.commodityNum = this.queryGrouplist.length\r\n      for (let a = 0; a < this.queryGrouplist.length; a++) {\r\n        var money = parseFloat(this.queryGrouplist[a].promotionPrice) * parseFloat(this.queryGrouplist[a].quantity)\r\n        this.shopCar.shopMoney = (parseFloat(this.shopCar.shopMoney) + money).toFixed(2)\r\n      }\r\n\t\t\tif(this.$refs.shopCarshopMoney){\r\n\t\t\t\tthis.$refs.shopCarshopMoney.innerHTML = `￥${this.shopCar.shopMoney}`\r\n\t\t\t}\r\n    },\r\n    /**\r\n     * 计算商品总价\r\n     */\r\n    getOrderTotal(arr) {\r\n      var priceTotal = 0;\r\n      var quantityTotal = 0;\r\n      for (var i in arr) {\r\n        quantityTotal += arr[i].quantity\r\n\r\n        if (arr[i].promotionPrice > 0 && arr[i].promotionBasePrice > 0) {\r\n          priceTotal += arr[i].quantity * (arr[i].promotionPrice.mul(100))\r\n        } else {\r\n          priceTotal += arr[i].quantity * (arr[i].price.mul(100))\r\n        }\r\n      }\r\n\r\n      return {\r\n        priceTotal: (priceTotal / 100).toFixed(2),\r\n        quantityTotal: (quantityTotal - 0).toFixed(2)\r\n      }\r\n    },\r\n    /**\r\n     * 判断数组是否存在某个元素\r\n     */\r\n    isInArray(arr, element) {\r\n      for (var i = 0; i < arr.length; i++) {\r\n        if (arr[i] == element) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    /**\r\n     * 统计店铺访问人数\r\n     */\r\n    countVisits() {\r\n      this.postRequest('store/countVisits', {\r\n        sellerId: this.sellerId\r\n      }).then(d => {\r\n        if (d.data && d.data.state == 0) {}\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/mixin_shop.js","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = fxRn\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 28 29 30 31 32 33 34 35","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = g8Ux\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 28 29 30 31 32 33 34 35","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./UserNewAddress.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"fca79556\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"optionsId\":\"0\",\"vue\":true,\"scoped\":false,\"sourceMap\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/user/UserNewAddress.vue\n// module id = s7OO\n// module chunks = 34","import configs from '../configs'\r\nimport mixin_shop from './mixin_shop'\r\nimport mixin_category from './mixin_category'\r\n\r\nexport default {\r\n  //mixins: [mixin_shop,mixin_category],\r\n  data() {\r\n    return {\r\n\t\t\tuploadURL:configs.uploadURL,\r\n      cityName: configs.cityName,\r\n      imgURL: configs.imgURL,\r\n      userInfo: JSON.parse(localStorage.getItem('userInfo')),\r\n      // 物流方式\r\n      logisticsType: [{\r\n        type: 0,\r\n        name: '自提',\r\n        selected: false\r\n      }, {\r\n        type: 1,\r\n        name: '物流配送',\r\n        selected: true\r\n      }],\r\n      // 支付方式\r\n      payType: [{\r\n        type: 0,\r\n        name: '现金支付',\r\n        selected: true\r\n      }, {\r\n        type: 1,\r\n        name: 'POS刷卡',\r\n        selected: false\r\n      }, {\r\n        type: 2,\r\n        name: '微信支付',\r\n        selected: false\r\n      }, {\r\n        type: 3,\r\n        name: '支付宝支付',\r\n        selected: false\r\n      }],\r\n      // 配送方式\r\n      distributionType: [{\r\n        distributionType: 0,\r\n        name: '次日配送',\r\n        selected: true\r\n      }, {\r\n        distributionType: 1,\r\n        name: '当日配送',\r\n        selected: false\r\n      }],\r\n    }\r\n  },\r\n  mounted() {\r\n    // // 解决苹果不回弹页面\r\n    // this.$nextTick(()=>{\r\n    //   var u = navigator.userAgent;\r\n    //   var app = navigator.appVersion;\r\n    //   var isIOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\r\n    //   let ele = document.getElementsByTagName(\"input\");\r\n\r\n    //   if (isIOS) {\r\n    //     for (let i of ele) {\r\n    //       // console.log(i)\r\n    //       i.onblur = function() {\r\n    //         this.blurAdjust();\r\n    //       }.bind(this);\r\n    //     }\r\n    //   }\r\n    // })\r\n  },\r\n  methods: {\r\n    /**\r\n\t\t * 获取服务器时间\r\n\t\t */\r\n    getServerTime() {\r\n      return new Promise((resolve, reject) => {\r\n        this\r\n          .postRequest('store/getServerTime', {})\r\n          .then(d => {\r\n            if (d && d.data.state == 0) {\r\n              resolve(d.data.aaData)\r\n            } else {\r\n              resolve(null)\r\n            }\r\n          })\r\n      })\r\n    },\r\n    /**\r\n     * 格式化商品价格\r\n     * @param {*} val \r\n     */\r\n    priceFormat(val) {\r\n\t\t\tif (typeof val === 'number') {\r\n\t\t\t\treturn val.div(100) || 0\r\n\t\t\t} else {\r\n\t\t\t\treturn val || 0\r\n\t\t\t}\r\n\t\t},\r\n    // 解决苹果不回弹页面\r\n    blurAdjust(e) {\r\n      // console.log(111)\r\n      setTimeout(() => {\r\n        if (\r\n          document.activeElement.tagName == \"INPUT\" ||\r\n          document.activeElement.tagName == \"TEXTAREA\"\r\n        ) {\r\n          return;\r\n        }\r\n        let result = \"pc\";\r\n        if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {\r\n          //判断iPhone|iPad|iPod|iOS\r\n          result = \"ios\";\r\n        } else if (/(Android)/i.test(navigator.userAgent)) {\r\n          //判断Android\r\n          result = \"android\";\r\n        }\r\n\r\n        if ((result = \"ios\")) {\r\n          document.activeElement.scrollIntoViewIfNeeded(true);\r\n        }\r\n      }, 100);\r\n    },\r\n    /**\r\n     * 数组去重\r\n     * @param arr \r\n     */\r\n    uniqueArr(arr) {\r\n      var res = [];\r\n      var obj = {};\r\n      for (var v of arr) {\r\n        if (!obj[v]) {\r\n          res.push(v);\r\n          obj[v] = 1;\r\n        }\r\n      }\r\n      return res\r\n    },\r\n    /**\r\n     * 获取不同的日期\r\n     * @param AddDayCount 目标天数与当天的差\r\n     * @returns {string}\r\n     * @constructor\r\n     */\r\n    GetDateStr(AddDayCount, server_date) {\r\n      var dd = new Date();\r\n      if (server_date) {\r\n        dd = new Date(server_date.replace(/-/g, '/'));\r\n      }\r\n      dd.setDate(dd.getDate() + AddDayCount);\r\n      var y = dd.getFullYear();\r\n      var m = dd.getMonth() + 1;\r\n      var d = dd.getDate();\r\n      var w = dd.getDay();\r\n      const wstr = '日一二三四五六'\r\n      if (m < 10) {\r\n        m = `0${m}`\r\n      }\r\n      if (d < 10) {\r\n        d = `0${d}`\r\n      }\r\n      return {\r\n        date: `${y}-${m}-${d}`,\r\n        week: `星期${wstr.charAt(w)}`\r\n      };\r\n    }\r\n  },\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/mixin.js"],"sourceRoot":""}