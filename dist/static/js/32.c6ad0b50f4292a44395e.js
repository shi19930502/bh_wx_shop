webpackJsonp([32],{"3nzt":function(t,e,s){"use strict";function r(t){s("JQHD")}Object.defineProperty(e,"__esModule",{value:!0});var a=s("mk15"),o=s("QC+b"),i=s("XyMi"),n=r,d=Object(i.a)(a.a,o.a,o.b,!1,n,null,null);e.default=d.exports},BO1k:function(t,e,s){t.exports={default:s("fxRn"),__esModule:!0}},"H+kO":function(t,e,s){"use strict";var r=s("BO1k"),a=s.n(r);e.a={data:function(){return{categoryList:[],gbgoodsId:"",secondCategoryList:[],isUserEnter:!1,isOftenBuy:!1}},methods:{addActiveStatus:function(t){var e=1;e=this.isUserEnter?0:1;for(var s in t)t[s].isActive=s==e;return t},menuClick:function(t){this.pageNum=1,this.productList=[],this.$refs.productList&&this.$refs.productList.$emit("ydui.infinitescroll.reInit"),t.isActive||(t.isActive=!0);var e=!0,s=!1,r=void 0;try{for(var o,i=a()(this.categoryList);!(e=(o=i.next()).done);e=!0){var n=o.value;t.id!=n.id&&(n.isActive=!1)}}catch(t){s=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(s)throw r}}if("oftenbuy"==t.id)this.secondCategoryList=[],this.isOftenBuy=!0,this.gbgoodsId="",this.getProductList();else if(this.isOftenBuy=!1,t.childList){this.secondCategoryList=t.childList;for(var d in this.secondCategoryList)0!=d&&this.secondCategoryList[d].isActive&&(this.secondCategoryList[d].isActive=!1);this.gbgoodsId=t.gbgoodsId,this.getProductList()}else this.secondCategoryList=[],this.gbgoodsId=t.gbgoodsId,this.getProductList()},getCategoryList:function(){this.getCategoryListSaveLocal()},getCategoryListSaveLocal:function(){var t=this;this.postRequest("category/childList",{parentCategoryId:"top",filteEnabled:1,filteDeleted:0,orderField:"t.f_id",supplierId:this.sellerId}).then(function(e){e&&e.data&&0==e.data.state&&(e.data.aaData.unshift({name:"常买",id:"oftenbuy"}),t.categoryList=t.addActiveStatus(e.data.aaData),t.getSonCategoryList(t.categoryList))})},getSonCategoryList:function(t){for(var e in t)if(t[e].childList)for(var s in t[e].childList)t[e].childList[s].isActive=!1;this.isOftenBuy?this.getProductList():t.length>1&&t[1].childList?(this.secondCategoryList=t[1].childList,this.gbgoodsId=t[1].gbgoodsId,this.getProductList()):(this.secondCategoryList=[],t.length>1&&(this.gbgoodsId=t[1].gbgoodsId,this.getProductList()))}}}},JQHD:function(t,e,s){var r=s("yVqb");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=s("rjj0").default;a("7d6ebb95",r,!0,{})},"QC+b":function(t,e,s){"use strict";s.d(e,"a",function(){return r}),s.d(e,"b",function(){return a});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("yd-layout",[s("div",{attrs:{id:"UserSetting"}},[s("yd-cell-group",[s("yd-cell-item",{attrs:{arrow:""},nativeOn:{click:function(e){t.show1=!0}}},[s("span",{attrs:{slot:"left"},slot:"left"},[t._v("修改密码")])])],1),t._v(" "),s("yd-button",{attrs:{size:"large",type:"hollow"},nativeOn:{click:function(e){return t.logOut(e)}}},[t._v("切换账号")]),t._v(" "),s("yd-button",{attrs:{size:"large",type:"hollow"},nativeOn:{click:function(e){return t.logOut(e)}}},[t._v("退出登录")]),t._v(" "),s("yd-popup",{attrs:{position:"bottom",height:"100%"},model:{value:t.show1,callback:function(e){t.show1=e},expression:"show1"}},[s("div",{staticClass:"popup"},[s("div",{staticClass:"popup-title flex flex-x-end flex-y-center"},[s("yd-icon",{attrs:{name:"error",size:"0.45rem"},nativeOn:{click:function(e){t.show1=!1}}})],1),t._v(" "),s("yd-cell-group",[s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("原密码")])])]),t._v(" "),s("yd-input",{attrs:{slot:"right",type:"password",max:"20","show-success-icon":!1,placeholder:"请输入旧密码"},slot:"right",model:{value:t.oldPassword,callback:function(e){t.oldPassword=e},expression:"oldPassword"}})],1),t._v(" "),s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("新密码")])])]),t._v(" "),s("yd-input",{attrs:{slot:"right",type:"password",placeholder:"请输入新密码","show-success-icon":!1},slot:"right",model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1),t._v(" "),s("yd-cell-item",[s("span",{attrs:{slot:"left"},slot:"left"},[s("div",{staticClass:"lable"},[s("strong",[t._v("确认密码")])])]),t._v(" "),s("yd-input",{attrs:{slot:"right",type:"password",placeholder:"请再次输入新密码","show-success-icon":!1},slot:"right",model:{value:t.newPassword2,callback:function(e){t.newPassword2=e},expression:"newPassword2"}})],1)],1)],1),t._v(" "),s("div",{staticClass:"flex flex-x-center",staticStyle:{padding:"0 0.24rem"}},[s("div",{staticClass:"loginbtn flex flex-y-center flex-x-center",on:{click:t.updateMyPassword}},[s("span",[t._v("确认修改")])])])])],1)])},a=[]},fYxN:function(t,e,s){"use strict";var r=s("BO1k"),a=s.n(r);e.a={data:function(){return{carIds:[],ShippingcarList:[],alreadyChosenGoods:[],orderTotal:0,shopCar:{shopNum:0,commodityNum:0,shopAllMoney:"0.00"},queryGrouplist:[]}},methods:{createShippingcar:function(t){var e,s=this,r={buyerId:this.userInfo.typeCode,productId:t.productId,productName:t.productName,skuId:t.id,skuName:t.name,quantity:t.quantity,comment:t.remark||"",sellerId:this.sellerId||this.$route.query.sellerId||t.sellerId};t.supplierId&&(r.sellerId=t.supplierId),t.skuId&&(r.skuId=t.skuId),t.skuName&&(r.skuName=t.skuName);var o=[],i=!0,n=!1,d=void 0;try{for(var l,c=a()(this.carIds);!(i=(l=c.next()).done);i=!0){var u=l.value;o.push(u.skuId)}}catch(t){n=!0,d=t}finally{try{!i&&c.return&&c.return()}finally{if(n)throw d}}if(this.isInArray(o,r.skuId)){e=0==t.quantity?"shippingcar/delete":"shippingcar/update";for(var h in this.carIds)this.carIds[h].skuId!=t.id&&this.carIds[h].skuId!=t.skuId||(r.id=this.carIds[h].carId);this.postRequest(e,r).then(function(t){t.data&&0==t.data.state&&s.getShippingcarList()})}else e="shippingcar/create",this.postRequest(e,r).then(function(e){if(e.data&&0==e.data.state){var r={skuId:t.id||t.skuId,carId:e.data.aaData.id};s.carIds.push(r),s.getShippingcarList()}else t.showjianBtn=!1,t.quantity=0,s.$dialog.alert({mes:e.data.msg})})},getShippingcarList:function(){var t=this;this.postRequest("shippingcar/queryGrouplist",{buyerId:this.userInfo.typeCode,sellerId:this.sellerId}).then(function(e){if(e.data&&0==e.data.state){t.ShippingcarList=e.data.aaData;var s=[];t.alreadyChosenGoods=[];for(var r in e.data.aaData){if(t.sellerId==r){var o=!0,i=!1,n=void 0;try{for(var d,l=a()(e.data.aaData[r]);!(o=(d=l.next()).done);o=!0){d.value.showjianBtn=!1}}catch(t){i=!0,n=t}finally{try{!o&&l.return&&l.return()}finally{if(i)throw n}}t.alreadyChosenGoods=e.data.aaData[r]}var c=!0,u=!1,h=void 0;try{for(var f,p=a()(e.data.aaData[r]);!(c=(f=p.next()).done);c=!0){var g=f.value,y={skuId:g.skuId,carId:g.id};s.push(y)}}catch(t){u=!0,h=t}finally{try{!c&&p.return&&p.return()}finally{if(u)throw h}}}t.carIds=s;for(var v=[],m=0;m<t.alreadyChosenGoods.length;m++)for(var w=0;w<t.carSettlementGoods.length;w++)t.alreadyChosenGoods[m].id==t.carSettlementGoods[w]&&v.push(t.carSettlementGoods[w]);t.carSettlementGoods=v,t.showShopCar&&t.carSettlementGoods.length<=0&&(t.isCheckAll=!1,t.$refs.checklistDemo.$emit("ydui.checklist.checkall",t.isCheckAll)),t.orderTotal=t.getOrderTotal(t.alreadyChosenGoods).priceTotal,"ShopSearch"!=t.$route.name&&"ProSkuList"!=t.$route.name&&"UserCollection"!=t.$route.name&&"Home"!=t.$route.name||t.getSearchProCar(e.data.aaData)}})},getSearchProCar:function(t){var e=0;this.queryGrouplist=[],this.shopCar.shopMoney="0.00";for(var s in t)e++,this.queryGrouplist=this.queryGrouplist.concat(t[s]);this.shopCar.shopNum=e,this.shopCar.commodityNum=this.queryGrouplist.length;for(var r=0;r<this.queryGrouplist.length;r++){var a=parseFloat(this.queryGrouplist[r].promotionPrice)*parseFloat(this.queryGrouplist[r].quantity);this.shopCar.shopMoney=(parseFloat(this.shopCar.shopMoney)+a).toFixed(2)}this.$refs.shopCarshopMoney&&(this.$refs.shopCarshopMoney.innerHTML="￥"+this.shopCar.shopMoney)},getOrderTotal:function(t){var e=0,s=0;for(var r in t)s+=t[r].quantity,t[r].promotionPrice>0&&t[r].promotionBasePrice>0?e+=t[r].quantity*t[r].promotionPrice.mul(100):e+=t[r].quantity*t[r].price.mul(100);return{priceTotal:(e/100).toFixed(2),quantityTotal:(s-0).toFixed(2)}},isInArray:function(t,e){for(var s=0;s<t.length;s++)if(t[s]==e)return!0;return!1},countVisits:function(){this.postRequest("store/countVisits",{sellerId:this.sellerId}).then(function(t){t.data&&t.data.state})}}}},fxRn:function(t,e,s){s("+tPU"),s("zQR9"),t.exports=s("g8Ux")},g8Ux:function(t,e,s){var r=s("77Pl"),a=s("3fs2");t.exports=s("FeBl").getIterator=function(t){var e=a(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},mk15:function(t,e,s){"use strict";var r=s("vsZy");e.a={mixins:[r.a],data:function(){return{show1:!1,oldPassword:"",newPassword:"",newPassword2:""}},created:function(){this.$store.dispatch("changeNavBarTitle","设置")},methods:{updateMyPassword:function(){var t=this,e={oldPassword:this.oldPassword,newPassword:this.newPassword,newPassword2:this.newPassword2};return""==e.oldPassword?(this.$dialog.alert({mes:"请输入旧密码"}),!1):""==e.newPassword?(this.$dialog.alert({mes:"请输入新密码"}),!1):""==e.newPassword2?(this.$dialog.alert({mes:"请再次输入新密码"}),!1):e.newPassword2!=e.newPassword?(this.$dialog.alert({mes:"两次输入密码不一致"}),!1):void this.postRequest("user/updateMyPassword",{oldPassword:e.oldPassword,newPassword:e.newPassword},!1,!0).then(function(e){e.data&&0==e.data.state?t.$dialog.toast({mes:"修改成功",timeout:1200,icon:"success",callback:function(){this.logOut(),this.show1=!1}.bind(t)}):t.$dialog.alert({mes:e.data.msg})})},logOut:function(){localStorage.removeItem("userInfo"),localStorage.removeItem("quickUserInfo"),this.$router.push({name:"Login",redirect:{name:"Login"}})}}}},vsZy:function(t,e,s){"use strict";var r=s("BO1k"),a=s.n(r),o=s("//Fk"),i=s.n(o),n=s("pyzf");s("fYxN"),s("H+kO");e.a={data:function(){return{uploadURL:n.a.uploadURL,cityName:n.a.cityName,imgURL:n.a.imgURL,userInfo:JSON.parse(localStorage.getItem("userInfo")),logisticsType:[{type:0,name:"自提",selected:!1},{type:1,name:"物流配送",selected:!0}],payType:[{type:0,name:"现金支付",selected:!0},{type:1,name:"POS刷卡",selected:!1},{type:2,name:"微信支付",selected:!1},{type:3,name:"支付宝支付",selected:!1}],distributionType:[{distributionType:0,name:"次日配送",selected:!0},{distributionType:1,name:"当日配送",selected:!1}]}},mounted:function(){},methods:{getServerTime:function(){var t=this;return new i.a(function(e,s){t.postRequest("store/getServerTime",{}).then(function(t){e(t&&0==t.data.state?t.data.aaData:null)})})},priceFormat:function(t){return"number"==typeof t?t.div(100)||0:t||0},blurAdjust:function(t){setTimeout(function(){if("INPUT"!=document.activeElement.tagName&&"TEXTAREA"!=document.activeElement.tagName){/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?"ios":/(Android)/i.test(navigator.userAgent)&&"android","ios"&&document.activeElement.scrollIntoViewIfNeeded(!0)}},100)},uniqueArr:function(t){var e=[],s={},r=!0,o=!1,i=void 0;try{for(var n,d=a()(t);!(r=(n=d.next()).done);r=!0){var l=n.value;s[l]||(e.push(l),s[l]=1)}}catch(t){o=!0,i=t}finally{try{!r&&d.return&&d.return()}finally{if(o)throw i}}return e},GetDateStr:function(t,e){var s=new Date;e&&(s=new Date(e.replace(/-/g,"/"))),s.setDate(s.getDate()+t);var r=s.getFullYear(),a=s.getMonth()+1,o=s.getDate(),i=s.getDay();return a<10&&(a="0"+a),o<10&&(o="0"+o),{date:r+"-"+a+"-"+o,week:"星期"+"日一二三四五六".charAt(i)}}}}},yVqb:function(t,e,s){e=t.exports=s("FZ+f")(!0),e.push([t.i,"#UserSetting{color:#2f3927}#UserSetting .lable{width:1.8rem;font-size:.3rem}#UserSetting .loginbtn{width:100%;height:.78rem;background:#6fb138;border-radius:.39rem;color:#fff;font-size:.31rem;text-align:center}#UserSetting .yd-cell-arrow:after{margin-left:.1rem}#UserSetting .yd-btn-hollow{border:none}","",{version:3,sources:["D:/Web/银川电子结算new/北环/前端/微信商城/src/views/user/UserSetting.vue"],names:[],mappings:"AACA,aACE,aAAe,CAChB,AACD,oBACI,aAAc,AACd,eAAkB,CACrB,AACD,uBACI,WAAY,AACZ,cAAgB,AAChB,mBAAoB,AACpB,qBAAuB,AACvB,WAAY,AACZ,iBAAmB,AACnB,iBAAmB,CACtB,AACD,kCACI,iBAAoB,CACvB,AACD,4BACI,WAAa,CAChB",file:"UserSetting.vue",sourcesContent:["\n#UserSetting {\n  color: #2F3927;\n}\n#UserSetting .lable {\n    width: 1.8rem;\n    font-size: 0.3rem;\n}\n#UserSetting .loginbtn {\n    width: 100%;\n    height: 0.78rem;\n    background: #6FB138;\n    border-radius: 0.39rem;\n    color: #fff;\n    font-size: 0.31rem;\n    text-align: center;\n}\n#UserSetting .yd-cell-arrow:after {\n    margin-left: 0.1rem;\n}\n#UserSetting .yd-btn-hollow {\n    border: none;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=32.c6ad0b50f4292a44395e.js.map